<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,user-scalable=no">
</head>
<body>

<!--如果您需要在某些APP中直接引用环信移动客服访客端web插件，可按照如下方式配置URL即可-->
<!--地址参数：http://XXX/h5.html?tenantId=XXXX&appkey=XXXX#XXXX&to=XXXX-->
<!--CONFIG DEMO-->
<script>
var getParameters = function ( key ) {
    var r = location.href.match(new RegExp('[?&]?'+key+'=[0-9a-zA-Z%#*._-]*[^&]', 'ig'));
    r = r && r[0] ? (r[0][0]=='?' || r[0][0]=='&' ? r[0].slice(1) : r[0]) : '';

    return decodeURIComponent(r.slice(key.length+1));
}

var easemobIM = { config: {} };


////通过url自动获取////
easemobIM.config.tenantId = getParameters('tenantid');//企业id
easemobIM.config.to = getParameters('to');//必填, 指定关联对应的im号
easemobIM.config.appKey = getParameters('appkey');//必填, appKey

////非必填////
easemobIM.config.buttonText = '联系客服';//设置小按钮的文案
easemobIM.config.hide = false;//是否隐藏小的悬浮按钮
easemobIM.config.mobile = /mobile/i.test(navigator.userAgent);//是否做移动端适配
easemobIM.config.dragEnable = true;//是否允许拖拽
easemobIM.config.dialogWidth = '400px';//聊天窗口宽度,建议宽度不小于400px
easemobIM.config.dialogHeight = '500px';//聊天窗口高度,建议宽度不小于500px
easemobIM.config.defaultAvatar = 'static/img/avatar.png';//默认头像

easemobIM.config.minimum = false;//是否允许窗口最小化，如不允许则默认展开

easemobIM.config.visitorSatisfactionEvaluate = false;//是否允许访客主动发起满意度评价
easemobIM.config.soundReminder = true;//是否启用声音提醒
easemobIM.config.imgView = true;//是否启动图片点击放大功能
easemobIM.config.fixedButtonPosition = {x: '10px', y: '10px'};//悬浮初始位置，坐标以视口右边距和下边距为基准
easemobIM.config.dialogPosition = {x: '10px', y: '10px'};//窗口初始位置，坐标以视口右边距和下边距为基准
easemobIM.config.titleSlide = true;//是否允许收到消息的时候网页title滚动
easemobIM.config.error = function ( error ) { /*alert(error);*/ };//错误回调
easemobIM.config.authMode = 'token' || 'password';//验证方式
easemobIM.config.user = {//可集成自己的用户，如不集成，则使用当前的appkey创建随机访客
    name: '',//集成时必填
    password: '',//authMode设置为password时必填,与token二选一
    token: ''//authMode设置为token时必填,与password二选一
};
</script>
<script src='static/js/easemob.js'></script>
</body>
</html>
