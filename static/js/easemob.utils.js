!function(t,e){"use strict";var i=i||{};i.utils=i.utils||{},i.utils.queryString=function(t,e){var i=t.match(new RegExp("[?&]?"+e+"=[0-9a-zA-Z%@._-]*[^&]","g"));return i=i&&i[0]?"?"==i[0][0]||"&"==i[0][0]?i[0].slice(1):i[0]:"",i.slice(e.length+1)},i.utils.getConfig=function(t){var e;e=t?t:location.href;var i={};if(!e)return{str:"",json:i,domain:""};var n,r=e.indexOf("?"),s=e.indexOf("//")>-1?e.indexOf("//"):0,o=e.slice(s,e.indexOf("/",s+2)),a=e.slice(r+1).split("&");i.src=e.slice(0,r);for(var u=0,c=a.length;c>u;u++)n=a[u].split("="),i[n[0]]=n.length>1?n[1]:"";return{str:e,json:i,domain:o}},i.utils.isAndroid=/Android/i.test(navigator.userAgent),i.utils.isMobile=/mobile/i.test(navigator.userAgent),i.utils.isQQBrowserInAndroid=i.utils.isAndroid&&/MQQBrowser/.test(navigator.userAgent);var n=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},r=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null};i.utils.on=n,i.utils.remove=r,i.utils.isMin=function(){return document.visibilityState&&"hidden"==document.visibilityState||document.hidden?!0:void 0};var s=function(){var e="postMessage"in t,i=function(t){var e=t.lastIndexOf("/"),i=t.lastIndexOf("#");return 0>i?!1:t.indexOf("#")>e&&i!=t.length?!0:void 0},r=function(t,e){var i=t.match(new RegExp(e+"\\w*"+e,"g"));return i&&i[0]?i[0].slice(e.length,-e.length):""},s=function(t,e){var i=t.toString(),n=e.match(new RegExp(i+"\\w*"+i,"g"));return n?n[0].slice(i.length,-i.length):""},o=function(t,e,i){return i.replace(new RegExp(t+"\\w*"+t,"g"),t+e+t)},a=function(t,e){return this instanceof a?(this.t=(new Date).getTime(),this.iframe=document.getElementById(t),this.prefix=e||"_em_",void delete this.t):new a};return a.prototype.sendToParent=function(i){if("string"!=typeof i)throw"msg must be string";return e?(t.parent.postMessage(i,"*"),this):this},a.prototype.sendToIframe=function(t){if("string"!=typeof t)throw"msg must be string";if(e)return this.iframe.contentWindow.postMessage(t,"*"),this;var n=this.iframe.getAttribute("src");return i(n)?s(this.prefix,n)?this.iframe.setAttribute("src",o(this.prefix,t,n)):this.iframe.setAttribute("src",n+"&"+this.prefix+t+this.prefix):this.iframe.setAttribute("src",n+="#"+this.prefix+t+this.prefix),this},a.prototype.listenToParent=function(i){if(e)return n(t,"message",function(t){i(t.data)}),this;if(t.onhashchange)t.onhashchange=function(){i(r(location.href,this.prefix))};else{var s=this,o=location.href;setInterval(function(){var t=location.href;t!=o&&(o=t,i(r(t,s.prefix)))},50)}return this},a.prototype.listenToIframe=function(i){return e&&n(t,"message",function(t){i(t.data)}),this},a}(),o={setcookie:function(t,e){var i=new Date;i.setTime(i.getTime()+2592e6),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()},getcookie:function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?unescape(e[2]):""}};Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t},t.EasemobWidget=i,t.EmMessage=s,t.Emc=o}(window,void 0);