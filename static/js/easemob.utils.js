!function(t,e){"use strict";var n=n||{};n.utils=n.utils||{},n.utils.encode=function(t,e){if(!t||0===t.length)return"";var n="";return n=t.replace(/&amp;/g,"&"),n=n.replace(/<(?=[^o][^)])/g,"&lt;"),n=n.replace(/>/g,"&gt;"),n=n.replace(/\"/g,"&quot;"),n=n.replace(/\n/g,"<br>")},n.utils.decode=function(t){if(!t||0===t.length)return"";var e="";return e=t.replace(/&amp;/g,"&")},n.utils.getIEVersion=function(){var t,e=navigator.userAgent,n={4:8,5:9,6:10,7:11};return t=e.match(/MSIE (\d+)/i),t&&t[1]?+t[1]:(t=e.match(/Trident\/(\d+)/i),t&&t[1]?n[t[1]]||null:null)},n.utils.queryString=function(t,e){var n=t.match(new RegExp("[?&]?"+e+"=[0-9a-zA-Z%@._-]*[^&]","g"));return n=n&&n[0]?"?"==n[0][0]||"&"==n[0][0]?n[0].slice(1):n[0]:"",n.slice(e.length+1)},n.utils.getConfig=function(t,e){var n;if(t&&e){for(var i=document.scripts,r=0,s=i.length;s>r;r++)if(i[r].src&&0<i[r].src.indexOf(t)){n=i[r].src;break}}else n=t?t:location.href;var o={};if(!n)return{str:"",json:o,domain:""};var a,u=n.indexOf("?"),c=n.indexOf("//")>-1?n.indexOf("//"):0,l=n.slice(c,n.indexOf("/",c+2)),g=n.slice(u+1).split("&");o.src=n.slice(0,u);for(var f=0,h=g.length;h>f;f++)a=g[f].split("="),o[a[0]]=a.length>1?decodeURIComponent(a[1]):"";return{str:n,json:o,domain:l}},n.utils.isAndroid=/Android/i.test(navigator.userAgent),n.utils.isMobile=/mobile/i.test(navigator.userAgent),n.utils.isQQBrowserInAndroid=n.utils.isAndroid&&/MQQBrowser/.test(navigator.userAgent);var i=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},r=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null};n.utils.on=i,n.utils.remove=r,n.utils.isMin=function(){return document.visibilityState&&"hidden"==document.visibilityState||document.hidden?!0:void 0};var s=function(){var e="postMessage"in t,n=function(t){var e=t.lastIndexOf("/"),n=t.lastIndexOf("#");return 0>n?!1:t.indexOf("#")>e&&n!=t.length?!0:void 0},r=function(t,e){var n=t.match(new RegExp(e+"\\w*"+e,"g"));return n&&n[0]?n[0].slice(e.length,-e.length):""},s=function(t,e){var n=t.toString(),i=e.match(new RegExp(n+"\\w*"+n,"g"));return i?i[0].slice(n.length,-n.length):""},o=function(t,e,n){return n.replace(new RegExp(t+"\\w*"+t,"g"),t+e+t)},a=function(t,e){return this instanceof a?(this.t=(new Date).getTime(),this.iframe=document.getElementById(t),this.prefix=e||"_em_",void delete this.t):new a};return a.prototype.sendToParent=function(n){if("string"!=typeof n)throw"msg must be string";return e?(t.parent.postMessage(n,"*"),this):this},a.prototype.sendToIframe=function(t){if("string"!=typeof t)throw"msg must be string";if(e)return this.iframe.contentWindow.postMessage(t,"*"),this;var i=this.iframe.getAttribute("src");return n(i)?s(this.prefix,i)?this.iframe.setAttribute("src",o(this.prefix,t,i)):this.iframe.setAttribute("src",i+"&"+this.prefix+t+this.prefix):this.iframe.setAttribute("src",i+="#"+this.prefix+t+this.prefix),this},a.prototype.listenToParent=function(n){if(e)return i(t,"message",function(t){n(t.data)}),this;if(t.onhashchange)t.onhashchange=function(){n(r(location.href,this.prefix))};else{var s=this,o=location.href;setInterval(function(){var t=location.href;t!=o&&(o=t,n(r(t,s.prefix)))},50)}return this},a.prototype.listenToIframe=function(n){return e&&i(t,"message",function(t){n(t.data)}),this},a}(),o={set:function(e,n){"localStorage"in t&&localStorage.setItem(encodeURIComponent(e),encodeURIComponent(n))},get:function(e){if("localStorage"in t){var n=localStorage.getItem(encodeURIComponent(e));return n?n:""}return""}};Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},t.EasemobWidget=n,t.TransferMessage=s,t.Emc=o}(window,void 0);